{"ast":null,"code":"var _jsxFileName = \"/Users/petrussiqui/Documents/GitHub/petrus-app/src/component/hook/Ex2.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n//--------- useEffect -------\nimport { useEffect, useState } from \"react\"; // 1. useEffect(callback) // ít dùng\n// - Gọi callback mỗi khi component re-render\n// - Gọi callback sau khi element thêm vào DOM\n// 2. useEffect(callback, [])\n// - Gọi callback 1 lần khi component mounted\n// - Gọi API\n// 3. useEffect(callback, [deps])\n// - Callback sẽ đc gọi lại mỗi khi deps (biến) thay đổi\n//---------------\n// 1. Callback luôn được gọi sau khi component mounted\n// 2. Cleanup function luôn đc gọi trước khi component unmounted\n// 3. Cleanup function luôn đc gọi trước khi callback() đc gọi (trừ lần mounted)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tabs = ['posts', 'todos', 'users'];\n\nfunction Ex2() {\n  _s();\n\n  // const [title, setTitle] = useState();\n  const [todos, setTodos] = useState([]);\n  const [type, setType] = useState('posts'); //useEffect sẽ run sau return\n\n  useEffect(() => {\n    // document.title = title;\n    fetch(`https://jsonplaceholder.typicode.com/${type}`).then(res => res.json()).then(todosApi => {\n      setTodos(todosApi);\n    }); //Cleanup func tránh rò rỉ bộ nhớ\n\n    return () => {// fuction thực thiện khi out useEffect()\n    };\n  }, [type]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" useEffect \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n        style: type === tab ? {\n          opacity: \"0.8\"\n        } : {},\n        onClick: () => setType(tab),\n        children: tab\n      }, tab, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ContentAPI\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: todos.map(todo => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: todo.title || todo.name\n        }, todo.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Ex2, \"E5VtWGf0Nz8g2l0NyIUnp5WIG50=\");\n\n_c = Ex2;\nconst lessions = [{\n  id: 1,\n  name: \"What's ReactJS?\"\n}, {\n  id: 2,\n  name: \"What's SPA/SPM?\"\n}, {\n  id: 3,\n  name: \"useState\"\n}, {\n  id: 4,\n  name: \"useEffect\"\n}];\n\nfunction ChatFake() {\n  _s2();\n\n  const [lessionId, setLessionId] = useState(1);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: lessions.map(lession => /*#__PURE__*/_jsxDEV(\"li\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(ChatFake, \"p3Zhw7Ti9tHb1hEmP9O4AbuhxJo=\");\n\n_c2 = ChatFake;\nexport default Ex2;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Ex2\");\n$RefreshReg$(_c2, \"ChatFake\");","map":{"version":3,"names":["useEffect","useState","tabs","Ex2","todos","setTodos","type","setType","fetch","then","res","json","todosApi","map","tab","opacity","todo","title","name","id","lessions","ChatFake","lessionId","setLessionId","lession"],"sources":["/Users/petrussiqui/Documents/GitHub/petrus-app/src/component/hook/Ex2.js"],"sourcesContent":["//--------- useEffect -------\n\n\nimport { useEffect, useState } from \"react\";\n// 1. useEffect(callback) // ít dùng\n// - Gọi callback mỗi khi component re-render\n// - Gọi callback sau khi element thêm vào DOM\n// 2. useEffect(callback, [])\n// - Gọi callback 1 lần khi component mounted\n// - Gọi API\n// 3. useEffect(callback, [deps])\n// - Callback sẽ đc gọi lại mỗi khi deps (biến) thay đổi\n\n//---------------\n// 1. Callback luôn được gọi sau khi component mounted\n// 2. Cleanup function luôn đc gọi trước khi component unmounted\n// 3. Cleanup function luôn đc gọi trước khi callback() đc gọi (trừ lần mounted)\n\n\nconst tabs=['posts','todos','users']\nfunction Ex2() {\n    // const [title, setTitle] = useState();\n    const [todos, setTodos] = useState([])\n    const [type,setType]=useState('posts')\n    //useEffect sẽ run sau return\n    useEffect(() => {\n        // document.title = title;\n        fetch(`https://jsonplaceholder.typicode.com/${type}`)\n            .then(res => res.json())\n            .then(todosApi => {\n                setTodos(todosApi)\n            })\n\n        //Cleanup func tránh rò rỉ bộ nhớ\n        return ()=>{\n            // fuction thực thiện khi out useEffect()\n        }\n    }, [type])\n    return (\n        <div className=\"\">\n            <h1> useEffect </h1>\n            <input />\n            <div>\n                {tabs.map(tab=>(\n                    <button\n                        key={tab}\n                        style={ type === tab ? {opacity:\"0.8\"} : {}}\n                        onClick={()=>setType(tab)}\n                    >{tab}</button>\n                ))}\n            </div>\n            <div className=\"ContentAPI\"> \n            <ul>\n                {todos.map(todo => (\n                    <li key={todo.id}>{todo.title || todo.name}</li>\n                ))}\n            </ul>\n            </div>\n        </div>\n    )\n}\n\nconst lessions =[{id:1, name:\"What's ReactJS?\"}, {id:2, name:\"What's SPA/SPM?\"},\n{id:3, name:\"useState\"},{id:4, name:\"useEffect\"}]\nfunction ChatFake() {\n    const [lessionId, setLessionId]=useState(1)\n\n    return (\n        <div>\n            <ul>\n                {lessions.map(lession => ( \n                    <li>\n\n                    </li>\n                ))}\n            </ul>\n        </div>\n\n    )\n}\n\n\n\nexport default Ex2"],"mappings":";;;;AAAA;AAGA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAGA,MAAMC,IAAI,GAAC,CAAC,OAAD,EAAS,OAAT,EAAiB,OAAjB,CAAX;;AACA,SAASC,GAAT,GAAe;EAAA;;EACX;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACK,IAAD,EAAMC,OAAN,IAAeN,QAAQ,CAAC,OAAD,CAA7B,CAHW,CAIX;;EACAD,SAAS,CAAC,MAAM;IACZ;IACAQ,KAAK,CAAE,wCAAuCF,IAAK,EAA9C,CAAL,CACKG,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,QAAQ,IAAI;MACdP,QAAQ,CAACO,QAAD,CAAR;IACH,CAJL,EAFY,CAQZ;;IACA,OAAO,MAAI,CACP;IACH,CAFD;EAGH,CAZQ,EAYN,CAACN,IAAD,CAZM,CAAT;EAaA,oBACI;IAAK,SAAS,EAAC,EAAf;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAA,UACKJ,IAAI,CAACW,GAAL,CAASC,GAAG,iBACT;QAEI,KAAK,EAAGR,IAAI,KAAKQ,GAAT,GAAe;UAACC,OAAO,EAAC;QAAT,CAAf,GAAiC,EAF7C;QAGI,OAAO,EAAE,MAAIR,OAAO,CAACO,GAAD,CAHxB;QAAA,UAIEA;MAJF,GACSA,GADT;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA,QAHJ,eAYI;MAAK,SAAS,EAAC,YAAf;MAAA,uBACA;QAAA,UACKV,KAAK,CAACS,GAAN,CAAUG,IAAI,iBACX;UAAA,UAAmBA,IAAI,CAACC,KAAL,IAAcD,IAAI,CAACE;QAAtC,GAASF,IAAI,CAACG,EAAd;UAAA;UAAA;UAAA;QAAA,QADH;MADL;QAAA;QAAA;QAAA;MAAA;IADA;MAAA;MAAA;MAAA;IAAA,QAZJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAsBH;;GAxCQhB,G;;KAAAA,G;AA0CT,MAAMiB,QAAQ,GAAE,CAAC;EAACD,EAAE,EAAC,CAAJ;EAAOD,IAAI,EAAC;AAAZ,CAAD,EAAiC;EAACC,EAAE,EAAC,CAAJ;EAAOD,IAAI,EAAC;AAAZ,CAAjC,EAChB;EAACC,EAAE,EAAC,CAAJ;EAAOD,IAAI,EAAC;AAAZ,CADgB,EACQ;EAACC,EAAE,EAAC,CAAJ;EAAOD,IAAI,EAAC;AAAZ,CADR,CAAhB;;AAEA,SAASG,QAAT,GAAoB;EAAA;;EAChB,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA0BtB,QAAQ,CAAC,CAAD,CAAxC;EAEA,oBACI;IAAA,uBACI;MAAA,UACKmB,QAAQ,CAACP,GAAT,CAAaW,OAAO,iBACjB;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAYH;;IAfQH,Q;;MAAAA,Q;AAmBT,eAAelB,GAAf"},"metadata":{},"sourceType":"module"}